(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-308d"],{Ampy:function(e,t,a){},Gsba:function(e,t,a){"use strict";var r={name:"Mysearch",props:{hidden:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入关键字(模糊搜索)"},buttonName:{type:String,default:"搜索"},value:{type:String,default:""}},data:function(){return{new_search:this.value}},methods:{to_search:function(){this.$emit("searchData",this.new_search)},to_input:function(){this.$emit("input",this.new_search)}}},n=(a("qq43"),a("KHd+")),l=Object(n.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{hidden:e.hidden}},[a("el-input",{attrs:{placeholder:e.placeholder,size:"small",clearable:""},on:{input:e.to_input,clear:e.to_search},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.to_search(t):null}},model:{value:e.new_search,callback:function(t){e.new_search=t},expression:"new_search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.to_search},slot:"append"},[e._v(e._s(e.buttonName))])],1)],1)},[],!1,null,"d300708c",null);l.options.__file="index2.vue";t.a=l.exports},L4Vs:function(e,t,a){"use strict";var r=a("tFWp");a.n(r).a},LCJH:function(e,t,a){"use strict";var r=a("k9pO");a.n(r).a},Mz3J:function(e,t,a){"use strict";var r={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},page_size:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.page_size},set:function(e){this.$emit("update:page_size",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,page_size:e})},handleCurrentChange:function(e){this.$emit("pagination",{page:e,page_size:this.pageSize})}}},n=(a("e+pk"),a("KHd+")),l=Object(n.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},[],!1,null,"88e53666",null);l.options.__file="index.vue";t.a=l.exports},OiJS:function(e,t,a){},"e+pk":function(e,t,a){"use strict";var r=a("OiJS");a.n(r).a},eivq:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"d",function(){return l}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i});var r=a("t3Un");function n(e,t){return Object(r.a)({url:e,method:"get",params:t})}function l(e,t){return Object(r.a)({url:e,method:"post",data:t})}function o(e,t){return Object(r.a)({url:e,method:"patch",data:t})}function i(e,t){return Object(r.a)({url:e,method:"delete",data:t})}},"gDS+":function(e,t,a){e.exports={default:a("oh+g"),__esModule:!0}},k9pO:function(e,t,a){},"oh+g":function(e,t,a){var r=a("WEpk"),n=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},qq43:function(e,t,a){"use strict";var r=a("Ampy");a.n(r).a},rBDI:function(e,t,a){"use strict";a.r(t);var r=a("gDS+"),n=a.n(r),l=(a("Q2AE"),a("eivq")),o=a("Gsba"),i=a("Mz3J"),s={name:"GameManage",components:{Mysearch:o.a,Pagination:i.a},data:function(){return{centerDialog:!1,centerDialog_delete:!1,centerDialog_patch:!1,page_datas:[],ruleForm:{game_name_cn:"",game_name:"",charge_url:"",query_url:"",reset_url:"",content:""},rules:{game_name_cn:[{required:!0,message:"请输入游戏名称",trigger:"blur"}],game_name:[{required:!0,message:"请输入游戏代码",trigger:"blur"}],charge_url:[{required:!0,message:"请输入充值接口",trigger:"blur"}],query_url:[{required:!0,message:"请输入查询接口",trigger:"blur"}],reset_url:[{required:!0,message:"请输入撤销接口",trigger:"blur"}]},ruleForm_patch:{},rules_patch:{},delete_data:{},my_pagination:{page:1,page_size:10,count:0,search:"",search_type:""},auth_datas:[]}},created:function(){this.get_need_data(this.my_pagination)},methods:{get_need_data:function(e){var t=this;Object(l.b)("/game/",e).then(function(e){var a=e.data;t.page_datas=a,t.my_pagination.count=e.count})},post_need_data:function(e){var t=this;Object(l.d)("/game/",e).then(function(e){e.data;t.centerDialog=!1,t.$refs.ruleForm.resetFields(),t.$message({showClose:!0,message:"新增成功！",type:"success"}),t.get_need_data(t.my_pagination)})},patch_need_data:function(e){var t=this;Object(l.c)("/game/"+e.id+"/",e).then(function(e){e.data;t.centerDialog_patch=!1,t.$refs.ruleForm_patch.resetFields(),t.$message({showClose:!0,message:"修改成功！",type:"success"}),t.get_need_data(t.my_pagination)})},delete_need_data:function(e){var t=this;Object(l.a)("/game/"+e.id+"/",e).then(function(e){e.data;t.centerDialog_delete=!1,t.$message({showClose:!0,message:"删除成功！",type:"success"}),t.get_need_data(t.my_pagination)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;"ruleForm"==e?t.post_need_data(t.ruleForm):t.patch_need_data(t.ruleForm_patch)})},resetForm:function(e){this.centerDialog=!1,this.centerDialog_patch=!1,this.$refs[e].resetFields()},delete_data_fuc:function(e){this.delete_data=e,this.centerDialog_delete=!0},new_data:function(){this.centerDialog=!0},true_delete:function(){this.delete_need_data(this.delete_data)},edit_data:function(e){this.ruleForm_patch=JSON.parse(n()(e)),this.centerDialog_patch=!0},to_search:function(){this.my_pagination.page=1,this.get_need_data(this.my_pagination)},pag_change:function(){this.get_need_data(this.my_pagination)},search_change:function(){this.get_need_data(this.my_pagination)},my_change:function(e){this.my_pagination.page=1,this.my_pagination.search_type=e,this.get_need_data(this.my_pagination)}}},u=(a("L4Vs"),a("LCJH"),a("KHd+")),c=Object(u.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:10}},["SuperAdmin"===e.$store.getters.user_obj.group.group_type||e.$store.getters.auth_json.game.auth_create?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.new_data}},[e._v("新增")]):e._e(),e._v(" "),a("p")],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("p")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("mysearch",{on:{searchData:e.to_search},model:{value:e.my_pagination.search,callback:function(t){e.$set(e.my_pagination,"search",t)},expression:"my_pagination.search"}})],1)],1),e._v(" "),a("br"),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.page_datas,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"game_name_cn",label:"游戏名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"game_name",label:"游戏代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance_rate",label:"结算比例"}}),e._v(" "),a("el-table-column",{attrs:{prop:"charge_url",label:"充值接口"}}),e._v(" "),a("el-table-column",{attrs:{prop:"query_url",label:"查询接口"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reset_url",label:"撤销接口"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return"SuperAdmin"===e.$store.getters.user_obj.group.group_type||e.$store.getters.auth_json.game.auth_update?[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.edit_data(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.delete_data_fuc(t.row)}}},[e._v("删除")])]:void 0}}])})],1),e._v(" "),a("br"),e._v(" "),a("pagination",{attrs:{total:e.my_pagination.count,page:e.my_pagination.page,page_size:e.my_pagination.page_size},on:{"update:page":function(t){e.$set(e.my_pagination,"page",t)},"update:page_size":function(t){e.$set(e.my_pagination,"page_size",t)},pagination:e.pag_change}}),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.centerDialog,"close-on-press-escape":!1,"close-on-click-modal":!1,title:"新增",width:"50%",center:""},on:{"update:visible":function(t){e.centerDialog=t}}},[a("div",[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"游戏名称",prop:"game_name_cn"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.game_name_cn,callback:function(t){e.$set(e.ruleForm,"game_name_cn",t)},expression:"ruleForm.game_name_cn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏代码",prop:"game_name"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.game_name,callback:function(t){e.$set(e.ruleForm,"game_name",t)},expression:"ruleForm.game_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"充值接口",prop:"charge_url"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.charge_url,callback:function(t){e.$set(e.ruleForm,"charge_url",t)},expression:"ruleForm.charge_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"查询接口",prop:"query_url"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.query_url,callback:function(t){e.$set(e.ruleForm,"query_url",t)},expression:"ruleForm.query_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"撤销接口",prop:"reset_url"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.reset_url,callback:function(t){e.$set(e.ruleForm,"reset_url",t)},expression:"ruleForm.reset_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结算比例",prop:"balance_rate"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.balance_rate,callback:function(t){e.$set(e.ruleForm,"balance_rate",t)},expression:"ruleForm.balance_rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏备注",prop:"content"}},[a("el-input",{attrs:{size:"small",type:"textarea"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.centerDialog_delete,title:"确认删除",width:"30%",center:""},on:{"update:visible":function(t){e.centerDialog_delete=t}}},[a("span",[e._v("是否确认删除，删除后不可恢复？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.centerDialog_delete=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.true_delete}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.centerDialog_patch,"close-on-press-escape":!1,"close-on-click-modal":!1,title:"编辑",width:"50%",center:""},on:{"update:visible":function(t){e.centerDialog_patch=t}}},[a("div",[a("el-form",{ref:"ruleForm_patch",attrs:{model:e.ruleForm_patch,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"游戏名称",prop:"game_name_cn"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm_patch.game_name_cn,callback:function(t){e.$set(e.ruleForm_patch,"game_name_cn",t)},expression:"ruleForm_patch.game_name_cn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏代码",prop:"game_name"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm_patch.game_name,callback:function(t){e.$set(e.ruleForm_patch,"game_name",t)},expression:"ruleForm_patch.game_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"充值接口",prop:"charge_url"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm_patch.charge_url,callback:function(t){e.$set(e.ruleForm_patch,"charge_url",t)},expression:"ruleForm_patch.charge_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"查询接口",prop:"query_url"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm_patch.query_url,callback:function(t){e.$set(e.ruleForm_patch,"query_url",t)},expression:"ruleForm_patch.query_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"撤销接口",prop:"reset_url"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm_patch.reset_url,callback:function(t){e.$set(e.ruleForm_patch,"reset_url",t)},expression:"ruleForm_patch.reset_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结算比例",prop:"balance_rate"}},[a("el-input",{attrs:{size:"small"},model:{value:e.ruleForm_patch.balance_rate,callback:function(t){e.$set(e.ruleForm_patch,"balance_rate",t)},expression:"ruleForm_patch.balance_rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏备注",prop:"content"}},[a("el-input",{attrs:{size:"small",type:"textarea"},model:{value:e.ruleForm_patch.content,callback:function(t){e.$set(e.ruleForm_patch,"content",t)},expression:"ruleForm_patch.content"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.resetForm("ruleForm_patch")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.submitForm("ruleForm_patch")}}},[e._v("确 定")])],1)])],1)},[],!1,null,"0fee64a0",null);c.options.__file="game.vue";t.default=c.exports},tFWp:function(e,t,a){}}]);